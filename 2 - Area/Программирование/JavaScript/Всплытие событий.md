# Всплытие событий

## Всплытие

Всплытие может произойти, когда событие одного и того-же типа установлено на родительский и вложенный в него элемент. События будут происходить с самого нижнего элемента, постепенно поднимаясь вверх.

Пример

```jsx
<div class="wrap"><button class="btn">Кнопка</button></div>
```

Если мы установим слушатель клика и на `wrap` и на `btn` - то при нажатии на `btn`, будет воспроизводиться и слушатель нажатия на `wrap`.

Чтобы остановить это, нужно в теле функции слушателя **вложенного** элемента написать функцию `e.stopPropagation()`.

## Погружение

На самом деле, изначально нажимая на элемент, сначала происходит погружение, а уже потом - всплытие, что есть логично, если подумать.

Погружение заставляет поочередно срабатывать слушатели родительских элементов. От корневого элемента - вниз, до самого вложенного. Это как всплытие, но наоборот. Сверху вниз.

Для того, чтобы сработало погружение родительсиких элементов, третьим аргументом в прослушивание нужно добавить объект с полем `capture: true`.

```jsx
wrap.addEventListener('click', (e) => {
	//код
}, 
{ 
	capture: true 
});
```

Погружение сработает даже при включенном во вложенном элементе `e.stopPropagation()`.

Чтобы сработало и всплытие и погружение одновременно, нужно на все родительские элементы, кроме самого вложенного повесить точно такой-же обработчик, но без третьего аргумента.