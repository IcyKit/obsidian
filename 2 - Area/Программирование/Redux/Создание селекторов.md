# Создание селекторов

Функция селектор просто помогает избавиться от дублирования одинакового кода, в нескольких компонентах.  
Например, у нас есть поле cart внутри `state`, и мы получаем функциями это поле в нескольких компонентах. Вместо этого, мы можем сделать функцию внутри `slice` файла, которая будет просто возвращать это значение.

**`state` приходящий в аргументы - содержит в себе всё состояние, включая другие `slice` объекты. Другими словами - нам придет `store` а не `slice`**

Принять делать эти функции внизу файла, а также включать в название функции cлово select.  
Пример создания функции получения слайса `cart`

```jsx
export const selectCart = (state) => state.cart;
```

Теперь мы можем использовать эту функцию в любом файле.

```jsx
const cartItems = useSelector(selectCart);
```

Если наша функция будет принимать аргументы, то эту функцию, нужно будет обернуть в еще одну функцию:

```jsx
const selectCartItemById = (id) => (state) => state.cart.items.find(obj => obj.id === id);
```

Как это работает?  
Тут вся суть в замыканиях. Когда мы вызываем `selectcartItemByID(id)` и передаем ему в параметрах `id`, то эта функция возвращает внутреннюю анонимную функцию. После вызывается внутренняя функция, та которая принимает в парамерах `state`, `state` ей передает `useSelector`, а `id` она читает из лексического окружения внешней функции `selectcartItemById(id)`. То есть как бы наша анонимная функция обернута `selectcartItemById()` и может брать любые данные которые были переданы в функцию обертку.