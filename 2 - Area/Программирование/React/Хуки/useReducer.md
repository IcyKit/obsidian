# useReducer

**useReducer** - позволяет нам работать с состоянием через стороннюю функцию изменения состояния - reducer.

Для начала использования данного хука его нужно импортировать из React.

```tsx
import {React, useReducer} from 'react';
```

### Reducer

До начала использования хука, нам нужно создать функцию reducer, которая будет приходить как аргумент в хук `useReducer`.

Reducer создается отдельной функцией, чуть выше компонента и принимает в себя два аргумента:

1. Состояние
2. ActionВнутри функции мы проверяем свойство объекта action. Reducer всегда по дефолту, если приходящего в него action.type не существует, должен возвращать само состояние. Другими словами, ничего с ним не делая, просто возвращает состояние обратно.

```tsx
const reducer = (state, action) => {
	switch (action.type) {
		default: return state;  
	}
}
```

### useReducer

Теперь, мы можем создать кортеж с помощью хука `useReducer`.

Кортеж также, как и useState возвращает два элемента:

1. Состояние
2. Функция `dispatch`, с помощью которой мы сможем изменять состояние

Как аргументы, функция принимает первым аргументом - созданную нами раннее функцию reducer, а вторым аргументом - объект с состояниями.

Полностью хук выглядит следующим образом:

```tsx
const [state, dispatch] = useReducer(reducer, {
	state: 'состояние',
})
```

Взаимодействовать с состоянием мы можем через функцию `dispatch`, полученную из кортежа. Для удобства взаимодействия, стоит сделать функцию, отправляющую action, содержащий тип события. А также, помимо обязательного поля типа, мы можем добавлять дополнительную информацию через аргументы функции или статически вписывая его в `dispatch`.

Пример такой функции:

```tsx
const increment = (аргумент) => {
	dispatch({type: 'inc', дополнение: аргумент});
}
```

Но, чтобы такая функция сработала, функция reducer должна знать, как обращаться с переданным ей типом. Поэтому, нам нужно добавить в `switch` конструкцию `case` с типом, который мы передали.

```tsx
const reducer = (state, action) => {
	switch (action.type) {
		case 'inc': return {
			...state,
			value: value + 1,
			дополнение: action.дополнение
		}
		default: return state;  
	}
}
```